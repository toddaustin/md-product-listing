function updateCartCount(){for(var t=0,e=0,n=0;n<cartQty.length;n++)t+=parseInt(cartQty[n].value),e+=parseFloat(cartItemPrice[n].innerHTML.slice(1));document.getElementsByClassName("cart-count")[0].innerHTML=t,cartTotal[0].innerHTML="$"+e.toFixed(2)}function removeItemFromCart(t){t.remove(),updateCartCount()}function addItem(){for(var t=0;t<addToCart.length;t++)addToCart[t].addEventListener("click",function(){for(var t=this.parentElement.firstElementChild.firstElementChild.textContent,e=items[t],n=this.previousElementSibling.firstElementChild.value,a=cartCont[0].children,r=!1,o=2;o<a.length;o++){var l=a[o].firstElementChild;if(l.textContent===t){var i=parseInt(l.nextElementSibling.value);i+=parseInt(n),l.nextElementSibling.value=i,l.nextElementSibling.nextElementSibling.textContent="$"+parseFloat(i*e).toFixed(2),r=!0}}if(!r){var m=(e*n).toFixed(2),s=document.createElement("p");s.innerHTML='<span class="item">'+t+'</span> <input class="qty" value='+n+'> <span class="cart-price">$'+m+'</span><button class="remove">Remove</button>',cartCont[0].appendChild(s)}removeItem(),updateCartCount(),updateItemQty()})}function removeItem(){for(var t=0;t<removeFromCart.length;t++)removeFromCart[t].addEventListener("click",function(){var t=this.parentElement;removeItemFromCart(t)})}function updateItemQty(){for(var t=0;t<cartQty.length;t++)cartQty[t].addEventListener("change",function(){var t=this.parentElement,e=t.firstElementChild.innerHTML,n=t.getElementsByClassName("cart-price"),a=items[e],r=this.value;if(0==r)removeItemFromCart(t);else{var o=parseFloat(a*r);n[0].innerHTML="$"+o.toFixed(2),updateCartCount()}})}function applyPromo(){promo.addEventListener("click",function(){var t=this.previousElementSibling.value.toLowerCase();if("10off"===t){for(var e=cartCont[0].children,n=0,a=0;a<e.length;a++){var r=e[a].firstChild.textContent;items[r]>=n&&(n=parseFloat(items[r]))}var o=parseFloat(.1*n).toFixed(2),l=parseFloat(cartTotal[0].textContent.slice(1)-o);cartTotal[0].textContent="$"+l.toFixed(2),n=0,this.previousElementSibling.value=""}else"train15"===t||"5offtotal"===t&&(cartTotal[0].textContent="$"+parseFloat(cartTotal[0].textContent.slice(1)-.05*cartTotal[0].textContent.slice(1)).toFixed(2))})}var items={Train:"18.95",BulletTime:"15.95",Klutz:"13.95",Global:"13.95",Blunt:"15.95",Crowd:"17.95",Banksy:"18.95",Pico:"17.95",Hex:"17.95",Byte:"18.95"},addToCart=document.getElementsByClassName("add"),removeFromCart=document.getElementsByClassName("remove"),cartCont=document.getElementsByClassName("tooltip-text"),cartQty=document.getElementsByClassName("qty"),cartItemPrice=document.getElementsByClassName("cart-price"),cartTotal=document.getElementsByClassName("amount"),promo=document.getElementById("apply-code");addItem(),removeItem(),applyPromo();